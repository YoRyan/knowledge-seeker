{% extends 'base.html' %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='season.css') }}">
{% endblock %}

{% block title %}{{ season_name }}{% endblock %}

{% block header %}
{% if season_has_icon %}
<img class="season-icon"
     src="{{ url_for('explorer.season_icon', season=season) }}"
     alt="">
{% endif %}
{{ season_name }}
{% endblock %}

{% block content %}
<section class="season-standalone">
{% for row in episodes %}
{% set slug_kwargs = { 'season': season, 'episode': row['slug'] } %}
        <a class="episode"
           href="{{ url_for('explorer.browse_episode', **slug_kwargs) }}">
{% if row['snapshot_ms'] is not none %}
                <span class="image-timecode-wrap">
                        <img class="image"
                             src="{{ url_for('clipper.snapshot_tiny', ms=row['snapshot_ms'], **slug_kwargs) }}"
                             alt="{{ row['name'] }}">
                        <span class="timecode episode-length">{{ str_ms(row['duration']) }}</span>
                </span>
{% endif %}
                <span class="episode-name">{{ row['name'] }}</span>
        </a>
{% endfor %}
</section>
{% endblock %}
